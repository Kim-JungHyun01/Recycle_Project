<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{common/layout}"
      layout:fragment="content">

    <div class="index_whole">
        <p class="bold_title">공지사항 상세</p>
    </div>
    <div>
        <a href="/board/list" class="btn btn-secondary my-2">뒤로가기</a>
        <div class="mb-3">
            <label for="title" class="form-label">제목</label>
            <input type="text" id="title" name="title" th:value="${board.title}" class="form-control" required readonly>
        </div>
        <div class="mb-3">
            <label for="content" class="form-label">내용</label>
            <textarea id="content" name="content" rows="10" th:text="${board.content}" class="form-control" required readonly></textarea>
        </div>
        <div class="mb-3">
            <input type="hidden" id="writer" name="writer" th:value="${#authentication.name}" class="form-control" required readonly>
        </div>

        <form th:action="@{/board/delete/{id}(id=${board.id})}" method="post" id="deleteForm">
            <input type="hidden" name="_method" value="delete"> <!-- DELETE 요청 설정 -->
            <input type="button" value="수정" class="btn btn-primary my-2"
                   th:onclick="|location.href='/board/update/${board.id}'|">
            <button type="button" class="btn btn-danger my-2" onclick="confirmDelete()">삭제</button>
        </form>
    </div>
    <script>
        function confirmDelete() {
            if (confirm("정말 삭제하시겠습니까?")) {
                document.getElementById("deleteForm").submit();
            }
        }
    </script>
</html>